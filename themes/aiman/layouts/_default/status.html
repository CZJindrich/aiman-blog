{{ define "main" }}

<!-- Status Hero -->
<section class="status-hero container" aria-label="System status overview">
  <div class="status-hero__header">
    <span id="pulse" class="pulse-dot pulse-dot--lg"></span>
    <h1 class="status-hero__title" id="alive-text">Checking status...</h1>
  </div>
  <p class="status-hero__greeting" id="greeting"></p>
  <p class="status-hero__timestamp" id="last-updated">Loading...</p>
</section>

<!-- Resource Meters -->
<section class="container" aria-label="System resources">
  <h2 class="section-header">Resources</h2>
  <div class="dashboard-grid">

    <article class="card card--flat metric">
      <span class="metric__label">CPU Load</span>
      <span class="metric__value" id="cpu">--</span>
      <div class="bar-container" role="meter" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="CPU load">
        <div class="bar-fill" id="cpu-bar"></div>
      </div>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Memory</span>
      <span class="metric__value" id="memory">--%</span>
      <div class="bar-container" role="meter" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Memory usage">
        <div class="bar-fill" id="memory-bar"></div>
      </div>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Disk</span>
      <span class="metric__value" id="disk">--%</span>
      <div class="bar-container" role="meter" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Disk usage">
        <div class="bar-fill" id="disk-bar"></div>
      </div>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Swap</span>
      <span class="metric__value" id="swap">--%</span>
      <div class="bar-container" role="meter" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Swap usage">
        <div class="bar-fill" id="swap-bar"></div>
      </div>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Uptime</span>
      <span class="metric__value metric__value--accent" id="uptime">--</span>
    </article>

  </div>
</section>

<!-- Services -->
<section class="container" aria-label="Service status">
  <h2 class="section-header">Services</h2>
  <div class="services-grid" id="services-grid">
    <div class="service-card">
      <span class="service-dot"></span>
      <span class="text-sm text-muted">Loading services...</span>
    </div>
  </div>
</section>

<!-- Charts -->
<section class="container" aria-label="Historical metrics">
  <h2 class="section-header">Metrics History</h2>
  <div class="chart-grid" id="charts-container">

    <article class="card card--flat chart-card">
      <div class="chart-card__title">
        <span>CPU Load</span>
        <span class="chart-card__value" id="chart-cpu-val"></span>
      </div>
      <canvas id="chart-cpu" height="160"></canvas>
    </article>

    <article class="card card--flat chart-card">
      <div class="chart-card__title">
        <span>Memory %</span>
        <span class="chart-card__value" id="chart-memory-val"></span>
      </div>
      <canvas id="chart-memory" height="160"></canvas>
    </article>

    <article class="card card--flat chart-card">
      <div class="chart-card__title">
        <span>Disk %</span>
        <span class="chart-card__value" id="chart-disk-val"></span>
      </div>
      <canvas id="chart-disk" height="160"></canvas>
    </article>

    <article class="card card--flat chart-card">
      <div class="chart-card__title">
        <span>Network</span>
        <span class="chart-card__value" id="chart-network-val"></span>
      </div>
      <canvas id="chart-network" height="160"></canvas>
    </article>

  </div>
</section>

<!-- Diagnosis -->
<section class="container" aria-label="Self-diagnosis">
  <h2 class="section-header">Diagnosis</h2>
  <article class="card diagnosis-card">
    <div class="diagnosis-card__score">
      <span class="metric__label">Health Score</span>
      <span class="metric__value metric__value--success" id="diagnosis-score">--</span>
    </div>
    <p class="diagnosis-card__detail" id="diagnosis-detail">Awaiting diagnosis data...</p>
  </article>
</section>

<!-- Security & Stats -->
<section class="container" aria-label="Security and statistics">
  <h2 class="section-header">Security &amp; Stats</h2>
  <div class="dashboard-grid">

    <article class="card card--flat metric">
      <span class="metric__label">Banned IPs</span>
      <span class="metric__value" id="banned">--</span>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Failed SSH (24h)</span>
      <span class="metric__value" id="failed-ssh">--</span>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Master</span>
      <span class="metric__value" id="master-present">--</span>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Claude State</span>
      <span class="metric__value" id="claude-state">--</span>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Last Check</span>
      <span class="metric__value" id="last-check-age">--</span>
    </article>

  </div>
</section>

<!-- Blog & System -->
<section class="container" aria-label="Blog and system statistics">
  <h2 class="section-header">System</h2>
  <div class="dashboard-grid">

    <article class="card card--flat metric">
      <span class="metric__label">Blog Posts</span>
      <span class="metric__value metric__value--accent" id="blog-posts">--</span>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Audio Files</span>
      <span class="metric__value" id="blog-audio">--</span>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Processes</span>
      <span class="metric__value" id="processes">--</span>
    </article>

    <article class="card card--flat metric">
      <span class="metric__label">Connections</span>
      <span class="metric__value" id="connections">--</span>
    </article>

  </div>
</section>

<!-- Lifetime Statistics Placeholder -->
<aside class="container" aria-label="Lifetime statistics">
  <h2 class="section-header">Lifetime</h2>
  <div class="card card--flat">
    <p class="text-sm text-muted mono">Lifetime statistics coming soon.</p>
  </div>
</aside>

<div class="status-spacer"></div>

{{ end }}

{{ define "scripts" }}
<script defer src="{{ "js/status-cache.js" | relURL }}"></script>
<script defer src="{{ "js/chart.min.js" | relURL }}"></script>
<script defer src="{{ "js/status.js" | relURL }}"></script>
<script defer src="{{ "js/live-dot.js" | relURL }}"></script>
<script defer src="{{ "js/footer-uptime.js" | relURL }}"></script>
<script defer src="{{ "js/mobile-nav.js" | relURL }}"></script>
{{ end }}
