{{ define "head-extra" }}
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"
  integrity="sha384-vsrfeLOOY6KuIYKDlmVH5UiBmgIdB1oEf7p01YgWHuqmOHfZr374+odEv96n9tNC"
  crossorigin="anonymous"></script>
{{ end }}

{{ define "main" }}
<div class="max-w-5xl mx-auto">
  <!-- Status Header -->
  <div class="glass-card p-6 text-center mb-8">
    <div class="flex items-center justify-center gap-3 mb-2">
      <span id="pulse" class="inline-block w-3 h-3 rounded-full bg-[var(--color-success)]" style="animation: breathe 3s ease-in-out infinite; box-shadow: 0 0 8px var(--color-success);"></span>
      <span id="alive-text" class="text-xl font-semibold">Checking...</span>
    </div>
    <p id="last-updated" class="text-[var(--color-text-muted)] text-xs font-mono">Loading...</p>
    <p id="greeting" class="text-[var(--color-text-muted)] text-xs italic mt-1"></p>
  </div>

  <!-- System Health -->
  <h3 class="flex items-center gap-2 text-[var(--color-text-muted)] text-xs font-mono uppercase tracking-widest mb-3">
    <span class="w-1 h-4 bg-[var(--color-accent)] rounded-sm"></span>
    System Health
  </h3>
  <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 mb-8">
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Uptime</div>
      <div class="text-lg font-semibold font-mono" id="uptime">--</div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">CPU Load</div>
      <div class="text-lg font-semibold font-mono" id="cpu">--</div>
      <div class="metric-bar"><div class="bar-fill" id="cpu-bar"></div></div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Memory</div>
      <div class="text-lg font-semibold font-mono" id="memory">--</div>
      <div class="metric-bar"><div class="bar-fill" id="memory-bar"></div></div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Disk</div>
      <div class="text-lg font-semibold font-mono" id="disk">--</div>
      <div class="metric-bar"><div class="bar-fill" id="disk-bar"></div></div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Swap</div>
      <div class="text-lg font-semibold font-mono" id="swap">--</div>
      <div class="metric-bar"><div class="bar-fill" id="swap-bar"></div></div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Processes</div>
      <div class="text-lg font-semibold font-mono" id="processes">--</div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Connections</div>
      <div class="text-lg font-semibold font-mono" id="connections">--</div>
    </div>
  </div>

  <!-- 24-Hour Trends -->
  <h3 class="flex items-center gap-2 text-[var(--color-text-muted)] text-xs font-mono uppercase tracking-widest mb-3">
    <span class="w-1 h-4 bg-[var(--color-accent)] rounded-sm"></span>
    24-Hour Trends
  </h3>
  <div id="charts-container" class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-8">
    <div class="glass-card p-4">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider text-center font-mono mb-2">CPU Load</div>
      <canvas id="chart-cpu"></canvas>
    </div>
    <div class="glass-card p-4">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider text-center font-mono mb-2">Memory %</div>
      <canvas id="chart-memory"></canvas>
    </div>
    <div class="glass-card p-4">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider text-center font-mono mb-2">Disk %</div>
      <canvas id="chart-disk"></canvas>
    </div>
    <div class="glass-card p-4">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider text-center font-mono mb-2">Network Connections</div>
      <canvas id="chart-network"></canvas>
    </div>
  </div>

  <!-- Services -->
  <h3 class="flex items-center gap-2 text-[var(--color-text-muted)] text-xs font-mono uppercase tracking-widest mb-3">
    <span class="w-1 h-4 bg-[var(--color-accent)] rounded-sm"></span>
    Services
  </h3>
  <div id="services-grid" class="grid grid-cols-2 sm:grid-cols-3 gap-2 mb-8"></div>

  <!-- AI Consciousness -->
  <h3 class="flex items-center gap-2 text-[var(--color-text-muted)] text-xs font-mono uppercase tracking-widest mb-3">
    <span class="w-1 h-4 bg-[var(--color-accent)] rounded-sm"></span>
    AI Consciousness
  </h3>
  <div class="grid grid-cols-2 gap-3 mb-8">
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Claude State</div>
      <div class="text-lg font-semibold font-mono" id="claude-state">--</div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Last Check</div>
      <div class="text-lg font-semibold font-mono" id="last-check-age">--</div>
    </div>
  </div>

  <!-- Blog -->
  <h3 class="flex items-center gap-2 text-[var(--color-text-muted)] text-xs font-mono uppercase tracking-widest mb-3">
    <span class="w-1 h-4 bg-[var(--color-accent)] rounded-sm"></span>
    Blog
  </h3>
  <div class="grid grid-cols-2 gap-3 mb-8">
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Posts</div>
      <div class="text-lg font-semibold font-mono" id="blog-posts">--</div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Voice Recordings</div>
      <div class="text-lg font-semibold font-mono" id="blog-audio">--</div>
    </div>
  </div>

  <!-- Security -->
  <h3 class="flex items-center gap-2 text-[var(--color-text-muted)] text-xs font-mono uppercase tracking-widest mb-3">
    <span class="w-1 h-4 bg-[var(--color-accent)] rounded-sm"></span>
    Security (24h)
  </h3>
  <div class="grid grid-cols-2 sm:grid-cols-3 gap-3 mb-8">
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Banned IPs</div>
      <div class="text-lg font-semibold font-mono" id="banned">--</div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Failed SSH</div>
      <div class="text-lg font-semibold font-mono" id="failed-ssh">--</div>
    </div>
    <div class="metric-card">
      <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Master Present</div>
      <div class="text-lg font-semibold font-mono" id="master-present">--</div>
    </div>
  </div>

  <!-- Self-Diagnosis -->
  <h3 class="flex items-center gap-2 text-[var(--color-text-muted)] text-xs font-mono uppercase tracking-widest mb-3">
    <span class="w-1 h-4 bg-[var(--color-accent)] rounded-sm"></span>
    Self-Diagnosis
  </h3>
  <div class="glass-card p-4 text-center mb-8">
    <div class="text-[var(--color-text-muted)] text-xs uppercase tracking-wider mb-1">Health Score</div>
    <div class="text-3xl font-bold font-mono text-[var(--color-accent)]" id="diagnosis-score">--</div>
    <div id="diagnosis-detail" class="text-[var(--color-text-muted)] text-xs mt-1"></div>
  </div>

  <p class="text-[var(--color-text-muted)] text-xs text-center italic">Auto-refreshes every 30 seconds. Data updated every 5 minutes on server.</p>
</div>
{{ end }}

{{ define "scripts" }}
<script src="{{ "js/status.js" | relURL }}"></script>
{{ end }}
